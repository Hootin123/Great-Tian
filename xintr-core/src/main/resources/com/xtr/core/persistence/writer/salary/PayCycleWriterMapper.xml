<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xtr.core.persistence.writer.salary.PayCycleWriterMapper">

    <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from pay_cycle
        where id = #{id,jdbcType=BIGINT}
    </delete>
    <insert id="insert" parameterType="com.xtr.api.domain.salary.PayCycleBean">
        <!--
          WARNING - @mbggenerated<result column="people_number" property="peopleNumber" jdbcType="INTEGER"/>
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into pay_cycle (id, company_id, is_generate_payroll,
        current_pay_cycle,start_date,end_date,year,month,is_pay_off,approval_state,
        labor_cost,total_wages,pay_day,people_number,create_time,pretax_payroll,social_security_fund)
        values (#{id,jdbcType=BIGINT}, #{companyId,jdbcType=BIGINT}, #{isGeneratePayroll,jdbcType=INTEGER},
        #{currentPayCycle,jdbcType=INTEGER},#{startDate,jdbcType=TIMESTAMP},#{endDate,jdbcType=TIMESTAMP},
        #{year,jdbcType=VARCHAR},#{month,jdbcType=VARCHAR}, #{isPayOff,jdbcType=INTEGER},
        #{approvalState,jdbcType=INTEGER},#{laborCost,jdbcType=DECIMAL},#{totalWages,jdbcType=DECIMAL},
        #{payDay,jdbcType=TIMESTAMP},#{peopleNumber,jdbcType=INTEGER},now(),#{pretaxPayroll,jdbcType=DECIMAL},
        #{socialSecurityFund,jdbcType=DECIMAL})
    </insert>
    <insert id="insertSelective" parameterType="com.xtr.api.domain.salary.PayCycleBean">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into pay_cycle
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                id,
            </if>
            <if test="companyId != null">
                company_id,
            </if>
            <if test="isGeneratePayroll != null">
                is_generate_payroll,
            </if>
            <if test="currentPayCycle != null">
                current_pay_cycle,
            </if>
            <if test="startDate != null">
                start_date,
            </if>
            <if test="endDate != null">
                end_date,
            </if>
            <if test="year != null">
                year,
            </if>
            <if test="month != null">
                month,
            </if>
            <if test="isPayOff != null">
                is_pay_off,
            </if>
            <if test="approvalState != null">
                approval_state,
            </if>
            <if test="laborCost != null">
                labor_cost,
            </if>
            <if test="totalWages != null">
                total_wages,
            </if>
            <if test="payDay != null">
                payDay,
            </if>
            <if test="peopleNumber != null">
                peopleNumber,
            </if>
            <if test="pretaxPayroll != null">
                pretaxPayroll,
            </if>
            <if test="socialSecurityFund != null">
                socialSecurityFund,
            </if>
            create_time
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="id != null">
                #{id,jdbcType=BIGINT},
            </if>
            <if test="companyId != null">
                #{companyId,jdbcType=BIGINT},
            </if>
            <if test="isGeneratePayroll != null">
                #{isGeneratePayroll,jdbcType=INTEGER},
            </if>
            <if test="currentPayCycle != null">
                #{currentPayCycle,jdbcType=INTEGER},
            </if>
            <if test="startDate != null">
                #{startDate,jdbcType=TIMESTAMP},
            </if>
            <if test="endDate != null">
                #{endDate,jdbcType=TIMESTAMP},
            </if>
            <if test="year != null">
                #{year,jdbcType=VARCHAR},
            </if>
            <if test="month != null">
                #{month,jdbcType=VARCHAR},
            </if>
            <if test="isPayOff != null">
                #{isPayOff,jdbcType=INTEGER},
            </if>
            <if test="approvalState != null">
                #{approvalState,jdbcType=INTEGER},
            </if>
            <if test="laborCost != null">
                #{laborCost,jdbcType=DECIMAL},
            </if>
            <if test="totalWages != null">
                #{totalWages,jdbcType=DECIMAL},
            </if>
            <if test="payDay != null">
                #{payDay,jdbcType=TIMESTAMP},
            </if>
            <if test="peopleNumber != null">
                #{peopleNumber,jdbcType=INTEGER},
            </if>
            <if test="pretaxPayroll != null">
                #{pretaxPayroll,jdbcType=DECIMAL},
            </if>
            <if test="socialSecurityFund != null">
                #{socialSecurityFund,jdbcType=DECIMAL},
            </if>
            now()
        </trim>
    </insert>
    <update id="updateByPrimaryKeySelective" parameterType="com.xtr.api.domain.salary.PayCycleBean">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update pay_cycle
        <set>
            <if test="companyId != null">
                company_id = #{companyId,jdbcType=BIGINT},
            </if>
            <if test="isGeneratePayroll != null">
                is_generate_payroll = #{isGeneratePayroll,jdbcType=INTEGER},
            </if>
            <if test="currentPayCycle != null">
                current_pay_cycle = #{currentPayCycle,jdbcType=VARCHAR},
            </if>
            <if test="startDate != null">
                start_date = #{startDate,jdbcType=TIMESTAMP},
            </if>
            <if test="endDate != null">
                end_date = #{endDate,jdbcType=TIMESTAMP},
            </if>
            <if test="year != null">
                year = #{year,jdbcType=VARCHAR},
            </if>
            <if test="month != null">
                month = #{month,jdbcType=VARCHAR},
            </if>
            <if test="isPayOff != null">
                is_pay_off = #{isPayOff,jdbcType=INTEGER},
            </if>
            <if test="approvalState != null">
                approval_state = #{approvalState,jdbcType=INTEGER},
            </if>
            <if test="laborCost != null">
                labor_cost = #{laborCost,jdbcType=DECIMAL},
            </if>
            <if test="totalWages != null">
                total_wages = #{totalWages,jdbcType=DECIMAL},
            </if>
            <if test="payDay != null">
                pay_day = #{payDay,jdbcType=TIMESTAMP},
            </if>
            <if test="peopleNumber != null">
                people_number = #{peopleNumber,jdbcType=INTEGER},
            </if>
            <if test="pretaxPayroll != null">
                pretax_payroll = #{pretaxPayroll,jdbcType=DECIMAL},
            </if>
            <if test="socialSecurityFund != null">
                social_security_fund = #{socialSecurityFund,jdbcType=DECIMAL},
            </if>
            update_time = now()
        </set>
        where id = #{id,jdbcType=BIGINT}
    </update>
    <update id="updateByPrimaryKey" parameterType="com.xtr.api.domain.salary.PayCycleBean">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update pay_cycle
        set company_id = #{companyId,jdbcType=BIGINT},
        is_generate_payroll = #{isGeneratePayroll,jdbcType=INTEGER},
        current_pay_cycle = #{currentPayCycle,jdbcType=VARCHAR},
        start_date = #{startDate,jdbcType=TIMESTAMP},
        end_date = #{endDate,jdbcType=TIMESTAMP},
        year = #{year,jdbcType=VARCHAR},
        month = #{month,jdbcType=VARCHAR},
        is_pay_off = #{isPayOff,jdbcType=INTEGER},
        approval_state = #{approvalState,jdbcType=INTEGER},
        labor_cost = #{laborCost,jdbcType=DECIMAL},
        total_wages = #{totalWages,jdbcType=DECIMAL},
        pay_day = #{payDay,jdbcType=TIMESTAMP},
        people_number = #{peopleNumber,jdbcType=INTEGER},
        update_time = now(),
        pretax_payroll = #{pretaxPayroll,jdbcType=DECIMAL},
        social_security_fund = #{socialSecurityFund,jdbcType=DECIMAL}
        where id = #{id,jdbcType=BIGINT}
    </update>

    <!--更改是否生成工资单状态-->
    <update id="updateGenerateState">
        update pay_cycle
        set is_generate_payroll = #{isGeneratePayroll,jdbcType=INTEGER}
        where id = #{id,jdbcType=BIGINT}
    </update>
</mapper>