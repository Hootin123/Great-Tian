<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xtr.core.persistence.reader.salary.RapidlyPayrollReaderMapper">
    <resultMap id="BaseResultMap" type="com.xtr.api.domain.salary.RapidlyPayrollBean">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="id" property="id" jdbcType="BIGINT"/>
        <result column="company_id" property="companyId" jdbcType="BIGINT"/>
        <result column="customer_name" property="customerName" jdbcType="VARCHAR"/>
        <result column="id_card" property="idCard" jdbcType="VARCHAR"/>
        <result column="bank_account" property="bankAccount" jdbcType="VARCHAR"/>
        <result column="bank_number" property="bankNumber" jdbcType="VARCHAR"/>
        <result column="real_wage" property="realWage" jdbcType="DECIMAL"/>
        <result column="rapidly_payroll_excel_id" property="rapidlyPayrollExcelId" jdbcType="BIGINT"/>
        <result column="is_pay_off" property="isPayOff" jdbcType="INTEGER"/>
        <result column="finance_user" property="financeUser" jdbcType="BIGINT"/>
        <result column="fail_msg" property="failMsg" jdbcType="VARCHAR"/>
        <result column="pay_status" property="payStatus" jdbcType="INTEGER"/>
        <result column="create_time" property="createTime" jdbcType="TIMESTAMP"/>
        <result column="remark" property="remark" jdbcType="VARCHAR"/>
        <result column="order_no" property="orderNo" jdbcType="VARCHAR"/>
        <result column="callback_state" property="callbackState" jdbcType="INTEGER"/>
    </resultMap>
    <sql id="Base_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        id, company_id, customer_name, id_card, bank_account, bank_number, real_wage, rapidly_payroll_excel_id,
        is_pay_off, finance_user, fail_msg, pay_status, create_time, remark,order_no,callback_state
    </sql>
    <!-- 查询条件 -->
    <sql id="Example_Where_Clause">
        <if test="id != null">
            and id = #{id,jdbcType=BIGINT}
        </if>
        <if test="companyId != null">
            and company_id = #{companyId,jdbcType=BIGINT}
        </if>
        <if test="customerName != null">
            and customer_name = #{customerName,jdbcType=VARCHAR}
        </if>
        <if test="idCard != null">
            and id_card = #{idCard,jdbcType=VARCHAR}
        </if>
        <if test="bankAccount != null">
            and bank_account = #{bankAccount,jdbcType=VARCHAR}
        </if>
        <if test="bankNumber != null">
            and bank_number = #{bankNumber,jdbcType=VARCHAR}
        </if>
        <if test="realWage != null">
            and real_wage = #{realWage,jdbcType=DECIMAL}
        </if>
        <if test="rapidlyPayrollExcelId != null">
            and rapidly_payroll_excel_id = #{rapidlyPayrollExcelId,jdbcType=BIGINT}
        </if>
        <if test="isPayOff != null">
            and is_pay_off = #{isPayOff,jdbcType=INTEGER}
        </if>
        <if test="financeUser != null">
            and finance_user = #{financeUser,jdbcType=BIGINT}
        </if>
        <if test="failMsg != null">
            and fail_msg = #{failMsg,jdbcType=VARCHAR}
        </if>
        <if test="payStatus != null">
            and pay_status = #{payStatus,jdbcType=INTEGER}
        </if>
        <if test="createTime != null">
            and create_time = #{createTime,jdbcType=TIMESTAMP}
        </if>
        <if test="remark != null">
            and remark = #{remark,jdbcType=VARCHAR}
        </if>
        <if test="orderNo != null">
            and order_no = #{orderNo,jdbcType=VARCHAR}
        </if>
        <if test="callbackState != null">
            and callback_state = #{callbackState,jdbcType=INTEGER}
        </if>
    </sql>

    <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long">
        select
        <include refid="Base_Column_List"/>
        from rapidly_payroll
        WHERE 1= 1
        <include refid="Example_Where_Clause"/>
    </select>

    <!--分页查询工资单-->
    <select id="selectPageList" resultMap="BaseResultMap" parameterType="com.xtr.api.domain.salary.RapidlyPayrollBean">
        select
        <include refid="Base_Column_List"/>
        from rapidly_payroll
        WHERE 1= 1
        <include refid="Example_Where_Clause"/>
    </select>

    <!--通过excelId查询工资单-->
    <select id="selectByExcelId" resultMap="BaseResultMap" parameterType="java.lang.Long">
        select
        <include refid="Base_Column_List"/>
        from rapidly_payroll
        where rapidly_payroll_excel_id = #{excelId,jdbcType=BIGINT}
        and company_id = #{companyId,jdbcType=BIGINT}
    </select>

    <!--通过excelId获取对应待发放的工资单-->
    <select id="selectByExcelIdState" resultMap="BaseResultMap" parameterType="java.lang.Long">
        select
        <include refid="Base_Column_List"/>
        from rapidly_payroll
        where rapidly_payroll_excel_id = #{excelId,jdbcType=BIGINT}
        and company_id = #{companyId,jdbcType=BIGINT}
        and is_pay_off = 0
    </select>

    <!--通过excelId获取对应待发放的工资单-->
    <select id="selectByOrderNo" resultMap="BaseResultMap" parameterType="java.lang.String">
        select
        <include refid="Base_Column_List"/>
        from rapidly_payroll
        where order_no = #{orderNo,jdbcType=VARCHAR}
    </select>
    <!--根据主键查询信息-->
    <select id="selectByPrimaryKeyId" resultMap="BaseResultMap" parameterType="java.lang.Long">
        select
        <include refid="Base_Column_List"/>
        from rapidly_payroll
        WHERE id=#{id}

    </select>
</mapper>