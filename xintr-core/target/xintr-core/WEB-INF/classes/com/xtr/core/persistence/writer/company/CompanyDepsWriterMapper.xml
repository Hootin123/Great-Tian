<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xtr.core.persistence.writer.company.CompanyDepsWriterMapper">

    <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from company_deps
        where dep_id = #{depId,jdbcType=BIGINT}
    </delete>
    <insert id="insert" parameterType="com.xtr.api.domain.company.CompanyDepsBean" useGeneratedKeys="true" keyProperty="depId">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into company_deps (dep_id, dep_company_id, dep_parent_id,
        dep_name, dep_number, dep_type,
        dep_salary_day, dep_sign, dep_salary_sumdays,
        dep_updateuser_date, dep_edit_member, dep_edit_time,
        company_id, dep_level, dep_cust_count, dep_leader, delflag)
        values (#{depId,jdbcType=BIGINT}, #{depCompanyId,jdbcType=BIGINT}, #{depParentId,jdbcType=BIGINT},
        #{depName,jdbcType=VARCHAR}, #{depNumber,jdbcType=VARCHAR}, #{depType,jdbcType=INTEGER},
        #{depSalaryDay,jdbcType=INTEGER}, #{depSign,jdbcType=INTEGER}, #{depSalarySumdays,jdbcType=INTEGER},
        #{depUpdateuserDate,jdbcType=INTEGER}, #{depEditMember,jdbcType=BIGINT}, #{depEditTime,jdbcType=TIMESTAMP},
        #{companyId,jdbcType=BIGINT}, #{depLevel,jdbcType=INTEGER}, #{depCustCount,jdbcType=INTEGER}, #{depLeader,jdbcType=BIGINT}, #{delflag,jdbcType=INTEGER})
    </insert>
    <insert id="insertSelective" parameterType="com.xtr.api.domain.company.CompanyDepsBean">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into company_deps
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="depId != null">
                dep_id,
            </if>
            <if test="depCompanyId != null">
                dep_company_id,
            </if>
            <if test="depParentId != null">
                dep_parent_id,
            </if>
            <if test="depName != null">
                dep_name,
            </if>
            <if test="depNumber != null">
                dep_number,
            </if>
            <if test="depType != null">
                dep_type,
            </if>
            <if test="depSalaryDay != null">
                dep_salary_day,
            </if>
            <if test="depSign != null">
                dep_sign,
            </if>
            <if test="depSalarySumdays != null">
                dep_salary_sumdays,
            </if>
            <if test="depUpdateuserDate != null">
                dep_updateuser_date,
            </if>
            <if test="depEditMember != null">
                dep_edit_member,
            </if>
            <if test="depEditTime != null">
                dep_edit_time,
            </if>
            <if test="companyId != null">
                company_id,
            </if>
            <if test="depLevel != null">
                dep_level,
            </if>
            <if test="depCustCount != null">
                dep_cust_count,
            </if>
            <if test="depLeader != null">
                dep_leader,
            </if>
            <if test="delflag != null">
                delflag
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="depId != null">
                #{depId,jdbcType=BIGINT},
            </if>
            <if test="depCompanyId != null">
                #{depCompanyId,jdbcType=BIGINT},
            </if>
            <if test="depParentId != null">
                #{depParentId,jdbcType=BIGINT},
            </if>
            <if test="depName != null">
                #{depName,jdbcType=VARCHAR},
            </if>
            <if test="depNumber != null">
                #{depNumber,jdbcType=VARCHAR},
            </if>
            <if test="depType != null">
                #{depType,jdbcType=INTEGER},
            </if>
            <if test="depSalaryDay != null">
                #{depSalaryDay,jdbcType=INTEGER},
            </if>
            <if test="depSign != null">
                #{depSign,jdbcType=INTEGER},
            </if>
            <if test="depSalarySumdays != null">
                #{depSalarySumdays,jdbcType=INTEGER},
            </if>
            <if test="depUpdateuserDate != null">
                #{depUpdateuserDate,jdbcType=INTEGER},
            </if>
            <if test="depEditMember != null">
                #{depEditMember,jdbcType=BIGINT},
            </if>
            <if test="depEditTime != null">
                #{depEditTime,jdbcType=TIMESTAMP},
            </if>
            <if test="companyId != null">
                #{companyId,jdbcType=BIGINT},
            </if>
            <if test="depLevel != null">
                #{depLevel,jdbcType=INTEGER},
            </if>
            <if test="depCustCount != null">
                #{depCustCount,jdbcType=INTEGER},
            </if>
            <if test="depLeader != null">
                #{depLeader,jdbcType=BIGINT},
            </if>
            <if test="delflag != null">
                #{delflag,jdbcType=INTEGER},
            </if>
        </trim>
    </insert>
    <update id="updateByPrimaryKeySelective" parameterType="com.xtr.api.domain.company.CompanyDepsBean">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update company_deps
        <set>
            <if test="depCompanyId != null">
                dep_company_id = #{depCompanyId,jdbcType=BIGINT},
            </if>
            <if test="depParentId != null">
                dep_parent_id = #{depParentId,jdbcType=BIGINT},
            </if>
            <if test="depName != null">
                dep_name = #{depName,jdbcType=VARCHAR},
            </if>
            <if test="depNumber != null">
                dep_number = #{depNumber,jdbcType=VARCHAR},
            </if>
            <if test="depType != null">
                dep_type = #{depType,jdbcType=INTEGER},
            </if>
            <if test="depSalaryDay != null">
                dep_salary_day = #{depSalaryDay,jdbcType=INTEGER},
            </if>
            <if test="depSign != null">
                dep_sign = #{depSign,jdbcType=INTEGER},
            </if>
            <if test="depSalarySumdays != null">
                dep_salary_sumdays = #{depSalarySumdays,jdbcType=INTEGER},
            </if>
            <if test="depUpdateuserDate != null">
                dep_updateuser_date = #{depUpdateuserDate,jdbcType=INTEGER},
            </if>
            <if test="depEditMember != null">
                dep_edit_member = #{depEditMember,jdbcType=BIGINT},
            </if>
            <if test="depEditTime != null">
                dep_edit_time = #{depEditTime,jdbcType=TIMESTAMP},
            </if>
            <if test="companyId != null">
                company_id = #{companyId,jdbcType=BIGINT},
            </if>
            <if test="depLevel != null">
                dep_level = #{depLevel,jdbcType=INTEGER},
            </if>
            <if test="depCustCount != null">
                dep_cust_count = #{depCustCount,jdbcType=INTEGER},
            </if>
            <if test="depLeader != null">
                dep_leader = #{depLeader,jdbcType=BIGINT},
            </if>
            <if test="delflag != null">
                delflag = #{delflag,jdbcType=INTEGER}
            </if>
        </set>
        where dep_id = #{depId,jdbcType=BIGINT}
    </update>
    <update id="updateByPrimaryKey" parameterType="com.xtr.api.domain.company.CompanyDepsBean">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update company_deps
        set dep_company_id = #{depCompanyId,jdbcType=BIGINT},
        dep_parent_id = #{depParentId,jdbcType=BIGINT},
        dep_name = #{depName,jdbcType=VARCHAR},
        dep_number = #{depNumber,jdbcType=VARCHAR},
        dep_type = #{depType,jdbcType=INTEGER},
        dep_salary_day = #{depSalaryDay,jdbcType=INTEGER},
        dep_sign = #{depSign,jdbcType=INTEGER},
        dep_salary_sumdays = #{depSalarySumdays,jdbcType=INTEGER},
        dep_updateuser_date = #{depUpdateuserDate,jdbcType=INTEGER},
        dep_edit_member = #{depEditMember,jdbcType=BIGINT},
        dep_edit_time = #{depEditTime,jdbcType=TIMESTAMP},
        company_id = #{companyId,jdbcType=BIGINT},
        dep_level = #{depLevel,jdbcType=INTEGER},
        dep_cust_count = #{depCustCount,jdbcType=INTEGER},
        dep_leader = #{depLeader,jdbcType=BIGINT},
        delflag = #{delflag,jdbcType=BIGINT}
        where dep_id = #{depId,jdbcType=BIGINT}
    </update>

    <update id="deleteDeps" parameterType="java.lang.Long">
        update company_deps
        set
        delflag = 1
        where dep_id = #{id, jdbcType=BIGINT}
    </update>


    <update id="updateLeader">
        update company_deps
        set
        dep_leader = #{leaderId}
        where dep_id = #{depId}
    </update>

    <update id="addRootDept">
        update company_deps
        set
        dep_parent_id = #{rootId}
        where
        dep_company_id = #{companyId}
        AND dep_id <![CDATA[<>]]> #{rootId}
        AND dep_parent_id is null
    </update>

    <update id="clearLeader">
        update company_deps
        set
        dep_leader = null
        where dep_leader = #{leaderId}
    </update>

    <update id="updateRootDeptName">
        UPDATE company_deps
        SET dep_name = #{name}
        WHERE
            dep_type = 4
        AND company_id = #{companyId}
    </update>

</mapper>